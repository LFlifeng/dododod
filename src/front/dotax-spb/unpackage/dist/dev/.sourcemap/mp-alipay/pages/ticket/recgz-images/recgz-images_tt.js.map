{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/main.js","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue?4fa5","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue?ade7","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue?f8a3","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue?f0fe","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue?bed0","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue?4cc3"],"names":["createPage","Page","data","deftRecgzs","biz","recgzs","userId","computed","totalCount","count","forEach","items","gidx","length","successCount","item","iidx","recgzStatus","failCount","duplicateCount","duplicate","onLoad","option","that","uni","showLoading","title","mask","scanGrant","getStorageSync","showModal","content","showCancel","success","res","switchTab","url","splits","split","getStorage","key","console","log","localReiterateStateRefresh","fail","err","complete","hideLoading","methods","handlePreviewImage","e","current","target","dataset","src","previewImage","urls","handleDetail","$off","$once","updateItem","invoice","deleteItem","setStorage","state","encodeURIComponent","JSON","stringify","navigateTo","showToast","icon","handleDelete","confirmColor","confirm","handleSubmit","vRes","validateSubmit","message","confirmText","invoices","store","userInfo","push","then","piRes","setStorageSync","redirectTo","aiRes","reLaunch","areas","Object","assign","isValid","splice","status","type","invoiceType","invoiceCode","invoiceNum","len","i","c","witem","j","nitem","ispass","fmtInvoiceType","itype","fmtRecgzStatus","istatus","invoicePropEditable","prop","getInvoicePropName"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,8H;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACc;;;AAG5E;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAowB,CAAgB,yxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwExxB;;;;;;;;;;AAUA;;;;;AAKA,qF,8FAvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAkBe,EACdC,I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","file":"pages/ticket/recgz-images/recgz-images_tt.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/ticket/recgz-images/recgz-images_tt.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./recgz-images_tt.vue?vue&type=template&id=cbe1633a&\"\nvar renderjs\nimport script from \"./recgz-images_tt.vue?vue&type=script&lang=js&\"\nexport * from \"./recgz-images_tt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recgz-images_tt.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/recgz-images/recgz-images_tt.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recgz-images_tt.vue?vue&type=template&id=cbe1633a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.recgzs, function(items, gidx) {\n    var l0 = _vm.__map(items, function(item, iidx) {\n      var m0 = _vm.fmtInvoiceType(item.invoiceType)\n      var m1 = _vm.fmtRecgzStatus(item.recgzStatus, item.duplicate)\n      var m2 = _vm.invoicePropEditable(item.invoiceType, \"invoiceCode\")\n      var m3 = _vm.invoicePropEditable(item.invoiceType, \"invoiceNum\")\n      var m4 = _vm.invoicePropEditable(item.invoiceType, \"rider\")\n      var m5 = _vm.getInvoicePropName(item.invoiceType, \"rider\")\n      var m6 = _vm.invoicePropEditable(item.invoiceType, \"invoiceOpenDate\")\n      var m7 = _vm.getInvoicePropName(item.invoiceType, \"invoiceOpenDate\")\n      var m8 = _vm.invoicePropEditable(item.invoiceType, \"departure\")\n      var m9 = _vm.invoicePropEditable(item.invoiceType, \"destination\")\n      var m10 = _vm.invoicePropEditable(item.invoiceType, \"setOutDate\")\n      return {\n        $orig: _vm.__get_orig(item),\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(items),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recgz-images_tt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recgz-images_tt.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tFmtRecgzStatus,\n\tFmtInvoiceType,\n\tInvoicePropEditable,\n\tGetInvoicePropName,\n\tClone,\n\tInvoiceModel,\n\tValidateInvoice,\n\tInvoiceDeductible\n} from '@/common/spb.js';\nimport {\n\tinvoiceAddInvoice,\n\tdeductionPushInvoices\n} from '@/service/service.js';\n\nimport store from '@/store/index.js';\nexport default {\n\tdata() {\n\t\t// let mockRecgzs = [\n\t\t// \t[Clone(InvoiceModel)],\n\t\t// \t[Clone(InvoiceModel)]\n\t\t// ];\n\t\tlet deftRecgzs = [];\n\t\treturn {\n\t\t\t// pzsp:拍照识票 dksp:抵扣收票\n\t\t\tbiz: 'pzsp',\n\t\t\t// 识别的票据二维数组\n\t\t\trecgzs: deftRecgzs,\n\t\t\t// 抵扣收票定制属性\n\t\t\tuserId: ''\n\t\t};\n\t},\n\tcomputed: {\n\t\ttotalCount: function() {\n\t\t\tlet count = 0;\n\t\t\tthis.recgzs.forEach((items, gidx) => {\n\t\t\t\tcount += items.length;\n\t\t\t});\n\t\t\treturn count;\n\t\t},\n\t\tsuccessCount: function() {\n\t\t\tlet count = 0;\n\t\t\tthis.recgzs.forEach((items, gidx) => {\n\t\t\t\titems.forEach((item, iidx) => {\n\t\t\t\t\tif (item.recgzStatus != 0) {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn count;\n\t\t},\n\t\tfailCount: function() {\n\t\t\tlet count = 0;\n\t\t\tthis.recgzs.forEach((items, gidx) => {\n\t\t\t\titems.forEach((item, iidx) => {\n\t\t\t\t\tif (item.recgzStatus == 0) {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn count;\n\t\t},\n\t\tduplicateCount: function() {\n\t\t\tlet count = 0;\n\t\t\tthis.recgzs.forEach((items, gidx) => {\n\t\t\t\titems.forEach((item, iidx) => {\n\t\t\t\t\tif (item.recgzStatus == 2 ||\n\t\t\t\t\t\titem.duplicate) {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn count;\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tlet that = this;\n\t\tlet biz = option.biz;\n\t\tif (biz) that.biz = biz;\n\t\tuni.showLoading({\n\t\t\ttitle: '正在准备数据..',\n\t\t\tmask: true\n\t\t});\n\n\t\tif (biz == 'dksp') {\n\t\t\tlet scanGrant = uni.getStorageSync('scanGrant');\n\t\t\tif (!scanGrant) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: '请扫票单通抵扣收票二维码获取授权',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '/pages/tab-bar/home/home_tt'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet splits = scanGrant.split(',');\n\t\t\tthis.userId = splits[1];\n\t\t}\n\n\t\tuni.getStorage({\n\t\t\tkey: 'RECGZED_IMAGES',\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log('成功获取到数据..', res);\n\t\t\t\tlet recgzs = res.data;\n\t\t\t\trecgzs.forEach((items) => {\n\t\t\t\t\titems.forEach((item) => {\n\t\t\t\t\t\t// item.isValid = (ValidateInvoice(item) == '');\n\t\t\t\t\t\tif (item.recgzStatus == '1') {\n\t\t\t\t\t\t\tif (ValidateInvoice(item) != '') {\n\t\t\t\t\t\t\t\titem.recgzStatus = '0';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthat.recgzs = recgzs;\n\t\t\t\tthat.localReiterateStateRefresh();\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\t// console.log('获取数据时出错..', err);\n\t\t\t\t// uni.showModal({\n\t\t\t\t// \tshowCancel: false,\n\t\t\t\t// \tcontent: '抱歉，获取数据时出错，请重新选择图片并提交识别！',\n\t\t\t\t// \tconfirmText: '好的',\n\t\t\t\t// \tsuccess: (res) => {\n\t\t\t\t// \t\tif (res.confirm) {\n\t\t\t\t// \t\t\tuni.reLaunch({\n\t\t\t\t// \t\t\t\turl: `../choose-image/choose-image?biz=${that.biz}`\n\t\t\t\t// \t\t\t});\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// });\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t});\n\n\t},\n\tmethods: {\n\t\t// 图片预览\n\t\thandlePreviewImage(e) {\n\t\t\tvar current = e.target.dataset.src;\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: current,\n\t\t\t\turls: [current]\n\t\t\t});\n\t\t},\n\t\t// 处理跳转\n\t\thandleDetail(gidx, iidx) {\n\t\t\tlet that = this;\n\t\t\t// 设置更新监听\n\t\t\tuni.$off('recgz-image-update');\n\t\t\tuni.$once('recgz-image-update', function(data) {\n\t\t\t\tconsole.log('监听到来自recgz-image-update的事件..', data);\n\t\t\t\tthat.updateItem(data.gidx, data.iidx, data.invoice);\n\t\t\t});\n\t\t\t// 设置删除监听\n\t\t\tuni.$off('recgz-image-delete');\n\t\t\tuni.$once('recgz-image-delete', function(data) {\n\t\t\t\tconsole.log('监听到来自recgz-image-delete的事件..', data);\n\t\t\t\tthat.deleteItem(data.gidx, data.iidx);\n\t\t\t});\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\t// 缓存发票信息\n\t\t\tuni.setStorage({\n\t\t\t\tkey: 'EDIT_INVOICE',\n\t\t\t\tdata: that.recgzs[gidx][iidx],\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tlet state = encodeURIComponent(JSON.stringify({\n\t\t\t\t\t\tgidx: gidx,\n\t\t\t\t\t\tiidx: iidx\n\t\t\t\t\t}));\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `../detail/detail_tt?biz=${that.biz}&edit=true&state=${state}`\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '无法跳转，暂存信息时出错'\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 处理删除操作\n\t\thandleDelete(gidx, iidx) {\n\t\t\tlet that = this;\n\t\t\tuni.showModal({\n\t\t\t\tconfirmColor: '#3d94ff',\n\t\t\t\tcontent: '您确定要删除该张发票吗？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tlet invoice = that.recgzs[gidx][iidx];\n\t\t\t\t\t\tthat.deleteItem(gidx, iidx);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 处理提交操作\n\t\thandleSubmit() {\n\t\t\tlet that = this;\n\t\t\tlet vRes = that.validateSubmit();\n\t\t\tif (!vRes.success) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: vRes.message,\n\t\t\t\t\tconfirmText: '我知道了',\n\t\t\t\t\tshowCancel: false\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '请确认所提交的数据真实有效？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tlet invoices = [];\n\t\t\t\t\t\tlet userId = store.state.userInfo.userId;\n\t\t\t\t\t\tif (that.biz == 'dksp') {\n\t\t\t\t\t\t\tuserId = that.userId;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.recgzs.forEach(items => {\n\t\t\t\t\t\t\titems.forEach(item => {\n\t\t\t\t\t\t\t\titem.userId = userId;\n\t\t\t\t\t\t\t\tinvoices.push(item);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(that.recgzs)\n\t\t\t\t\t\tconsole.log('请求保存发票信息..');\n\t\t\t\t\t\tif (that.biz == 'dksp') {\n\t\t\t\t\t\t\tdeductionPushInvoices(invoices).then((piRes) => {\n\t\t\t\t\t\t\t\tconsole.log('保存发票信息结果..', piRes);\n\t\t\t\t\t\t\t\tif (piRes && piRes.success) {\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('RECGZED_IMAGES', []);\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl: '/pages/result/choose-invoice-result/choose-invoice-result_tt?invCount=' + invoices.length\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinvoiceAddInvoice(invoices).then((aiRes) => {\n\t\t\t\t\t\t\t\t// console.log('保存发票信息结果..', aiRes);\n\t\t\t\t\t\t\t\t// if (aiRes && aiRes.success) {\n\t\t\t\t\t\t\t\t// \tuni.setStorageSync('RECGZED_IMAGES', []);\n\t\t\t\t\t\t\t\t// \tuni.showModal({\n\t\t\t\t\t\t\t\t// \t\ttitle: '',\n\t\t\t\t\t\t\t\t// \t\tcontent: '发票保存成功，跳转到票夹页面查看',\n\t\t\t\t\t\t\t\t// \t\tconfirmText: '确定',\n\t\t\t\t\t\t\t\t// \t\tshowCancel: false,\n\t\t\t\t\t\t\t\t// \t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t// \t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t// \t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t// \t\t\t\t\turl: '/pages/result/choose-invoice-result/choose-invoice-result_tt?invCount=' + invoices.length\n\t\t\t\t\t\t\t\t// \t\t\t\t});\n\t\t\t\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t\t\t// \t});\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\turl: '/pages/result/choose-invoice-result/choose-invoice-result_tt?invCount=' + invoices.length\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 更新列表子项\n\t\tupdateItem(gidx, iidx, invoice) {\n\t\t\tlet that = this;\n\t\t\tlet areas = that.recgzs;\n\t\t\tlet items = areas[gidx];\n\t\t\tlet item = items[iidx];\n\t\t\tObject.assign(item, invoice, {\n\t\t\t\tisValid: true,\n\t\t\t\trecgzStatus: '1',\n\t\t\t\tduplicate: false\n\t\t\t});\n\t\t\tthat.localReiterateStateRefresh();\n\t\t},\n\t\t// 删除列表子项\n\t\tdeleteItem(gidx, iidx) {\n\t\t\tlet that = this;\n\t\t\tlet areas = that.recgzs;\n\t\t\tlet items = areas[gidx];\n\t\t\tif (items.length == 1) {\n\t\t\t\tareas.splice(gidx, 1);\n\t\t\t} else {\n\t\t\t\titems.splice(iidx, 1);\n\t\t\t}\n\t\t\tthat.localReiterateStateRefresh();\n\t\t},\n\t\t// 本地重复发票的刷新\n\t\tlocalReiterateStateRefresh() {\n\t\t\tlet that = this;\n\t\t\tlet recgzs = that.recgzs;\n\t\t\tif (recgzs.length < 1) return;\n\t\t\tlet invoices = [];\n\t\t\t// 转换为一维数组\n\t\t\trecgzs.forEach((items) => {\n\t\t\t\titems.forEach((item) => {\n\t\t\t\t\t// 统一校验更新发票的状态\n\t\t\t\t\t// 假如是非服务端重复发票\n\t\t\t\t\tif (!item.duplicate) {\n\t\t\t\t\t\tlet status = (ValidateInvoice(item) == '') ? '1' : '0';\n\t\t\t\t\t\tif (item.recgzStatus != status) {\n\t\t\t\t\t\t\titem.recgzStatus = status;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// 过滤掉不检查的票据\n\t\t\t\t\t\tlet type = item.invoiceType;\n\t\t\t\t\t\tif (type != 'TrainInvoice' &&\n\t\t\t\t\t\t\ttype != 'PlaneInvoice' &&\n\t\t\t\t\t\t\titem.invoiceCode != '' &&\n\t\t\t\t\t\t\titem.invoiceNum != '') {\n\t\t\t\t\t\t\tinvoices.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tlet len = invoices.length;\n\t\t\t// 判断票据是否重复的检查\n\t\t\tfor (let i = 0, c = len - 1; i < c; i++) {\n\t\t\t\tlet witem = invoices[i];\n\t\t\t\tfor (let j = i + 1; j < len; j++) {\n\t\t\t\t\tlet nitem = invoices[j];\n\t\t\t\t\tif (witem.invoiceCode == nitem.invoiceCode &&\n\t\t\t\t\t\twitem.invoiceNum == nitem.invoiceNum) {\n\t\t\t\t\t\tnitem.recgzStatus = '2';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 提交数据前校验\n\t\tvalidateSubmit() {\n\t\t\tlet that = this;\n\t\t\tlet ispass = true;\n\t\t\tlet message = '';\n\t\t\tlet recgzs = that.recgzs;\n\t\t\tlet biz = that.biz;\n\t\t\tfor (let i = 0; i < recgzs.length; i++) {\n\t\t\t\tlet items = recgzs[i];\n\t\t\t\tfor (let j = 0; j < items.length; j++) {\n\t\t\t\t\tlet invoice = items[j];\n\t\t\t\t\tif (invoice.recgzStatus != '1' || invoice.duplicate) {\n\t\t\t\t\t\tispass = false;\n\t\t\t\t\t\tmessage = `提交的票据包含识别失败或识别重复的数据，请点击票据补全信息或删除票据`;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (biz == 'dksp') {\n\t\t\t\t\t\tif (!InvoiceDeductible(invoice.invoiceType)) {\n\t\t\t\t\t\t\tispass = false;\n\t\t\t\t\t\t\tmessage = '系统抵扣支持的发票类型只有增值税专用发票、机动车销售发票、通行费电子发票，请修改或删除其余票据';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!ispass) break;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tsuccess: ispass,\n\t\t\t\tmessage: message\n\t\t\t};\n\t\t},\n\t\t// 格式化发票类型\n\t\tfmtInvoiceType(itype) {\n\t\t\treturn FmtInvoiceType(itype);\n\t\t},\n\t\t// 格式化识别状态\n\t\tfmtRecgzStatus(istatus, duplicate) {\n\t\t\tif (duplicate) istatus = '2';\n\t\t\treturn FmtRecgzStatus(istatus);\n\t\t},\n\t\tinvoicePropEditable(itype, prop) {\n\t\t\treturn InvoicePropEditable(itype, prop);\n\t\t},\n\t\tgetInvoicePropName(itype, prop) {\n\t\t\treturn GetInvoicePropName(itype, prop);\n\t\t}\n\t}\n}\n","import mod from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recgz-images_tt.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recgz-images_tt.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586848506144\n      var cssReload = require(\"E:/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}