{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/main.js","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue?b8c0","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue?38d5","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue?eccf","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue?8487","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue?3939","webpack:///C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue?1bb0"],"names":["createPage","Page","components","uniCollapse","uniCollapseItem","data","mockInvoice","id","invoiceCode","invoiceType","checkState","rider","departure","destination","invoiceImg","maxTime","Date","minTime","state","edit","biz","confirmText","invoiceTypes","invoice","invoiceMinDate","invoiceMaxDate","showPicker","title","computed","invoiceTypePickerValue","that","itypes","itype","i","length","value","updateButtonVisible","reimburseAdded","reimburseReject","cancelButtonVisible","deleteButtonVisible","submitButtonVisible","invoiceImageVisible","onLoad","option","JSON","parse","decodeURIComponent","dataSource","dataGetWay","setSelectTypes","uni","showLoading","mask","getStorage","key","success","res","console","log","fail","err","showModal","showCancel","content","confirm","navigateBack","complete","hideLoading","getInvoice","empty","InvoiceModel","source","setNavigationBarTitle","onPullDownRefresh","stopPullDownRefresh","methods","handleInvoiceOpenDateChange","e","invoiceOpenDate","target","handleSetOutDateChange","setOutDate","handleGetOnTimeChange","getOnTime","handleGetOffTimeChange","getOffTime","onSelectedSetOutDate","handleGetOnTime","handleInvoiceTypeChange","detail","handleUpdate","handleSubmit","errmsg","submitValidate","showToast","icon","userId","store","userInfo","then","aiRes","cancelText","reLaunch","url","cancel","checkExist","$emit","passed","type","ieArg","fpdm","fphm","invoiceNum","invoiceId","ieRes","handleCancel","delta","handleDelete","iid","arg","diRes","duration","switchTab","page","getCurrentPages","pop","handleInvoiceImageError","handlePreviewInvoiceImage","previewImage","urls","indicator","callback","giRes","InvoiceTypes","filter","item","fmtInvoiceType","invoicePropEditable","prop","getInvoicePropName","invoiceVerifiable","fmtInvoiceVerifyStatus","istate"],"mappings":"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","file":"pages/ticket/detail/detail_tt.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/ticket/detail/detail_tt.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail_tt.vue?vue&type=template&id=7c3ea403&\"\nvar renderjs\nimport script from \"./detail_tt.vue?vue&type=script&lang=js&\"\nexport * from \"./detail_tt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail_tt.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/dotax-spb/src/front/dotax-spb/pages/ticket/detail/detail_tt.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail_tt.vue?vue&type=template&id=7c3ea403&\"","var components = {\n  \"uni-collapse\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-collapse/uni-collapse\" */ \"@/components/uni-collapse/uni-collapse.vue\"\n    )\n  },\n  \"uni-collapse-item\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-collapse-item/uni-collapse-item\" */ \"@/components/uni-collapse-item/uni-collapse-item.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.fmtInvoiceType(_vm.invoice.invoiceType)\n  var m1 = _vm.fmtInvoiceType(_vm.invoice.invoiceType)\n  var m2 = _vm.invoiceVerifiable()\n  var m3 = _vm.fmtInvoiceVerifyStatus(_vm.invoice.checkState)\n  var m4 = _vm.invoicePropEditable(\"invoiceCode\")\n  var m5 = _vm.invoicePropEditable(\"invoiceNum\")\n  var m6 = _vm.invoicePropEditable(\"invoiceOpenDate\")\n  var m7 = _vm.getInvoicePropName(\"invoiceOpenDate\")\n  var m8 = _vm.invoicePropEditable(\"city\")\n  var m9 = _vm.invoicePropEditable(\"rider\")\n  var m10 = _vm.getInvoicePropName(\"rider\")\n  var m11 = _vm.getInvoicePropName(\"rider\")\n  var m12 = _vm.invoicePropEditable(\"eleTicktNo\")\n  var m13 = _vm.invoicePropEditable(\"departure\")\n  var m14 = _vm.invoicePropEditable(\"setOutDate\")\n  var m15 = _vm.invoicePropEditable(\"destination\")\n  var m16 = _vm.invoicePropEditable(\"getOnTime\")\n  var m17 = _vm.getInvoicePropName(\"getOnTime\")\n  var m18 = _vm.invoicePropEditable(\"getOffTime\")\n  var m19 = _vm.invoicePropEditable(\"kilometre\")\n  var m20 = _vm.invoicePropEditable(\"sumAmount\")\n  var m21 = _vm.invoicePropEditable(\"ticketPrice\")\n  var m22 = _vm.invoicePropEditable(\"flight\")\n  var m23 = _vm.getInvoicePropName(\"flight\")\n  var m24 = _vm.getInvoicePropName(\"flight\")\n  var m25 = _vm.invoicePropEditable(\"seatClass\")\n  var m26 = _vm.invoicePropEditable(\"surcharge\")\n  var m27 = _vm.invoicePropEditable(\"planeTicketAmount\")\n  var m28 = _vm.invoicePropEditable(\"verifyCode\")\n  var m29 = _vm.invoicePropEditable(\"amount\")\n  var m30 = _vm.invoiceVerifiable()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n        m11: m11,\n        m12: m12,\n        m13: m13,\n        m14: m14,\n        m15: m15,\n        m16: m16,\n        m17: m17,\n        m18: m18,\n        m19: m19,\n        m20: m20,\n        m21: m21,\n        m22: m22,\n        m23: m23,\n        m24: m24,\n        m25: m25,\n        m26: m26,\n        m27: m27,\n        m28: m28,\n        m29: m29,\n        m30: m30\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail_tt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail_tt.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniCollapse from '@/components/uni-collapse/uni-collapse.vue';\nimport uniCollapseItem from '@/components/uni-collapse-item/uni-collapse-item.vue';\nimport {\n\tInvoiceTypes,\n\tFmtInvoiceType,\n\tInvoicePropEditable,\n\tGetInvoicePropName,\n\tInvoiceVerifiable,\n\tFmtInvoiceVerifyStatus,\n\tExtendProps,\n\tClone,\n\tPropIsEmpty,\n\tDateFormat,\n\tValidateInvoice,\n\tInvoiceModel,\n\tInvoiceDeductible\n} from '@/common/spb.js';\nimport {\n\tinvoiceGetInvoice,\n\tinvoiceDelInvoice,\n\tinvoiceAddInvoice,\n\tinvoiceIsExisted\n} from '@/service/service.js';\nimport store from '@/store/index.js';\n\nexport default {\n\tcomponents: {\n\t\tuniCollapse,\n\t\tuniCollapseItem\n\t},\n\tdata() {\n\t\tlet mockInvoice = {\n\t\t\tid: 0,\n\t\t\tinvoiceCode: '',\n\t\t\tinvoiceType: 'TaxiInvoice',\n\t\t\tcheckState: 0,\n\t\t\trider: '乘车人',\n\t\t\tdeparture: '出发站',\n\t\t\tdestination: '到达站',\n\t\t\tinvoiceImg: null\n\t\t};\n\t\tlet maxTime = new Date();\n\t\tlet minTime = new Date(maxTime - 365 * 24 * 60 * 60 * 1000);\n\t\treturn {\n\t\t\tid: 0,\n\t\t\tstate: null,\n\t\t\tedit: false, //编辑状态\n\t\t\tbiz: 'fpgl', //smsp:扫码收票 smcy:扫码查验 //fpgl:发票管理 //pzsp:拍照识票 //dksp:抵扣收票 //sgcy:手工录入\n\t\t\tconfirmText: '提交',\n\t\t\tinvoiceTypes: [],\n\t\t\tinvoice: {},\n\t\t\tinvoiceMinDate: DateFormat(minTime),\n\t\t\tinvoiceMaxDate: DateFormat(maxTime),\n\t\t\tshowPicker: false,\n\t\t\ttitle: '票据详情'\n\t\t}\n\t},\n\tcomputed: {\n\t\tinvoiceTypePickerValue: function() {\n\t\t\tlet that = this;\n\t\t\tlet itypes = that.invoiceTypes;\n\t\t\tlet itype = that.invoice.invoiceType;\n\t\t\tfor (let i = 0; i < itypes.length; i++) {\n\t\t\t\tif (itypes[i].value == itype) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\t\tupdateButtonVisible: function() {\n\t\t\tlet that = this;\n\t\t\tswitch (that.biz) {\n\t\t\t\tcase 'fpgl':\n\t\t\t\t\tlet invoice = that.invoice;\n\t\t\t\t\t// 非编辑模式下，且查验状态非查验成功，且没有添加到报销单据\n\t\t\t\t\treturn (!that.edit && invoice &&\n\t\t\t\t\t\tinvoice.checkState != '1' &&\n\t\t\t\t\t\t(!invoice.reimburseAdded || invoice.reimburseReject));\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tcancelButtonVisible: function() {\n\t\t\tlet that = this;\n\t\t\tswitch (that.biz) {\n\t\t\t\tcase 'fpgl':\n\t\t\t\t\treturn that.edit;\n\t\t\t\tcase 'sgcy':\n\t\t\t\tcase 'smcy':\n\t\t\t\t\treturn true;\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tdeleteButtonVisible: function() {\n\t\t\tlet that = this;\n\t\t\tswitch (that.biz) {\n\t\t\t\tcase 'fpgl':\n\t\t\t\t\tlet invoice = that.invoice;\n\t\t\t\t\treturn (!that.edit && invoice &&\n\t\t\t\t\t\t!invoice.reimburseAdded);\n\t\t\t\tcase 'pzsp':\n\t\t\t\t\treturn true;\n\t\t\t\tcase 'dksp':\n\t\t\t\t\treturn true;\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tsubmitButtonVisible: function() {\n\t\t\treturn this.edit;\n\t\t},\n\t\tinvoiceImageVisible: function() {\n\t\t\treturn !PropIsEmpty(this.invoice.invoiceImg);\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tlet that = this;\n\t\tlet biz = option.biz;\n\t\tlet edit = option.edit;\n\t\tlet state = option.state;\n\t\tif (biz) that.biz = biz;\n\t\tif (edit) {\n\t\t\tif (edit == \"true\" || edit == \"1\") {\n\t\t\t\tthat.edit = true;\n\t\t\t}\n\t\t}\n\t\tif (state) {\n\t\t\t/**\n\t\t\t * state 模型\n\t\t\t * fpgl：{id:发票标识} \n\t\t\t * pzsp：{gidx:分组索引,iidx:发票索引}\n\t\t\t */\n\n\t\t\tthat.state = JSON.parse(decodeURIComponent(state));\n\t\t}\n\t\t// 数据源头\n\t\tlet dataSource = 'local';\n\t\t// 获取途径 WECHAT:微信 YXSP:影像收票 CYSP:查验收票 DKSP:抵扣收票\n\t\tlet dataGetWay = '';\n\t\tswitch (that.biz) {\n\t\t\tcase 'pzsp': //拍照收票\n\t\t\t\tdataSource = 'local';\n\t\t\t\tthat.confirmText = '提交';\n\t\t\t\tdataGetWay = 'YXSP';\n\t\t\t\tbreak;\n\t\t\tcase 'dksp': //抵扣收票\n\t\t\t\tdataSource = 'local';\n\t\t\t\tthat.confirmText = '提交';\n\t\t\t\tdataGetWay = 'DKSP';\n\t\t\t\tbreak;\n\t\t\tcase 'smsp': //扫码收票\n\t\t\tcase 'smcy': //扫码查验\n\t\t\t\tdataSource = 'local';\n\t\t\t\tthat.confirmText = '添至票夹';\n\t\t\t\tdataGetWay = 'CYSP';\n\t\t\t\tthat.title = '查验详情';\n\t\t\t\tthat.edit = true;\n\t\t\t\tbreak;\n\t\t\tcase 'sgcy': //手工查验\n\t\t\t\tdataSource = 'input';\n\t\t\t\tthat.confirmText = '添至票夹';\n\t\t\t\tdataGetWay = 'CYSP';\n\t\t\t\tbreak;\n\t\t\tcase 'fpgl': //发票管理\n\t\t\tdefault:\n\t\t\t\tdataSource = 'remote';\n\t\t\t\tthat.confirmText = '提交';\n\t\t\t\tbreak;\n\t\t}\n\t\tif (dataGetWay != '') {\n\t\t\tthat.setSelectTypes(dataGetWay);\n\t\t}\n\t\tswitch (dataSource) {\n\t\t\tcase 'local': //本地\n\t\t\t\tuni.showLoading({\n\t\t\t\t\tmask: true,\n\t\t\t\t\ttitle: ''\n\t\t\t\t});\n\t\t\t\tuni.getStorage({\n\t\t\t\t\tkey: 'EDIT_INVOICE',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('成功获取到数据..', res);\n\t\t\t\t\t\tthat.invoice = res.data;\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('获取数据时出错..', err);\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tcontent: '抱歉，获取数据时出错，请重新进入。',\n\t\t\t\t\t\t\tconfirmText: '好的',\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tuni.navigateBack({});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'remote': //远程\n\t\t\t\tthat.getInvoice();\n\t\t\t\tbreak;\n\t\t\tcase 'input': //录入\n\t\t\tdefault:\n\t\t\t\tlet empty = Clone(InvoiceModel);\n\t\t\t\tempty.source = 'CYSP';\n\t\t\t\tthat.invoice = empty;\n\t\t\t\tbreak;\n\t\t}\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: that.title\n\t\t});\n\t},\n\t// 下拉刷新发票\n\tonPullDownRefresh() {\n\t\tlet that = this;\n\t\tif (that.edit) {\n\t\t\tuni.stopPullDownRefresh();\n\t\t\treturn;\n\t\t}\n\t\tconsole.log('下拉刷新发票信息..');\n\t\tthat.getInvoice(function() {\n\t\t\tuni.stopPullDownRefresh();\n\t\t});\n\t},\n\tmethods: {\n\t\thandleInvoiceOpenDateChange(e) {\n\t\t\tthis.invoice.invoiceOpenDate = e.target.value;\n\t\t},\n\t\thandleSetOutDateChange(e) {\n\t\t\tthis.invoice.setOutDate = e.target.value;\n\t\t},\n\t\thandleGetOnTimeChange(e) {\n\t\t\tthis.invoice.getOnTime = e.target.value;\n\t\t},\n\t\thandleGetOffTimeChange(e) {\n\t\t\tthis.invoice.getOffTime = e.target.value;\n\t\t},\n\t\tonSelectedSetOutDate(e) {\n\t\t\tthis.showPicker = false;\n\t\t\tif (e) {\n\t\t\t\tthis.invoice.setOutDate = e.value;\n\t\t\t}\n\t\t},\n\t\t//乘车时间\n\t\thandleGetOnTime(e) {\n\t\t\tthis.invoice.getOnTime = e.target.value;\n\t\t},\n\t\t// 改变发票类型\n\t\thandleInvoiceTypeChange(e) {\n\t\t\tconsole.log('选择更改发票类型..', e);\n\t\t\tlet itypes = this.invoiceTypes;\n\t\t\tthis.invoice.invoiceType = itypes[e.detail.value].value;\n\t\t},\n\t\t// 处理编辑操作\n\t\thandleUpdate() {\n\t\t\tthis.edit = !this.edit;\n\t\t},\n\t\t// 处理提交操作\n\t\thandleSubmit() {\n\t\t\tconsole.log('处理提交操作..');\n\t\t\tlet that = this;\n\t\t\tlet errmsg = that.submitValidate();\n\t\t\tconsole.log(errmsg)\n\t\t\tif (errmsg != '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: errmsg\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet invoice = this.invoice;\n\t\t\tswitch (that.biz) {\n\t\t\t\tcase 'fpgl':\n\t\t\t\tcase 'sgcy':\n\t\t\t\tcase 'smcy':\n\t\t\t\t\tlet userId = store.state.userInfo.userId;\n\t\t\t\t\tinvoice.userId = userId;\n\t\t\t\t\tconsole.log('请求保存发票信息..');\n\t\t\t\t\tinvoiceAddInvoice([invoice]).then((aiRes) => {\n\t\t\t\t\t\tconsole.log('保存发票信息结果..', aiRes);\n\t\t\t\t\t\tif (aiRes && aiRes.success) {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\tcontent: '发票保存成功，请前往票夹查看查验结果',\n\t\t\t\t\t\t\t\tconfirmText: '前往票夹',\n\t\t\t\t\t\t\t\tcancelText: '返回首页',\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('跳转到票夹-确定');\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\turl: '../../tab-bar/ticket/ticket_tt'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\t\tconsole.log('跳转到票夹-取消');\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\turl: '../../tab-bar/home/home_tt'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pzsp':\n\t\t\t\tcase 'dksp':\n\t\t\t\t\tcheckExist(that.biz, invoice, function() {\n\t\t\t\t\t\t// 不存在\n\t\t\t\t\t\tlet data = ExtendProps(Clone(that.state), {\n\t\t\t\t\t\t\t'invoice': invoice\n\t\t\t\t\t\t});\n\t\t\t\t\t\tuni.$emit(\"recgz-image-update\", data);\n\t\t\t\t\t\tuni.navigateBack({});\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tfunction checkExist(biz, invoice, passed) {\n\t\t\t\tlet type = invoice.invoiceType;\n\t\t\t\tif (type == 'TrainInvoice' &&\n\t\t\t\t\ttype == 'PlaneInvoice') {\n\t\t\t\t\tpassed();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet ieArg = {\n\t\t\t\t\tbiz: biz,\n\t\t\t\t\tfpdm: invoice.invoiceCode,\n\t\t\t\t\tfphm: invoice.invoiceNum,\n\t\t\t\t\tinvoiceId: invoice.id\n\t\t\t\t};\n\t\t\t\tconsole.log('请求检查发票是否存在..');\n\t\t\t\tinvoiceIsExisted(ieArg).then((ieRes) => {\n\t\t\t\t\tconsole.log('检查发票是否存在结果..', ieRes);\n\t\t\t\t\tif (ieRes && ieRes.success) {\n\t\t\t\t\t\tif (ieRes.data) {\n\t\t\t\t\t\t\t// 已存在\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\tcontent: '票夹中已经存在相同发票代码、发票号码的票据',\n\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\tconfirmText: '我知道了'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpassed();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 处理取消操作\n\t\thandleCancel() {\n\t\t\tconsole.log('处理取消操作..');\n\t\t\tlet that = this;\n\t\t\tswitch (that.biz) {\n\t\t\t\tcase 'smcy':\n\t\t\t\tcase 'smsp':\n\t\t\t\tcase 'sgcy':\n\t\t\t\t\tconsole.log('放弃添票..');\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fpgl':\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log('取消编辑..');\n\t\t\t\t\tthis.edit = !this.edit;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t// 处理删除操作\n\t\thandleDelete() {\n\t\t\tconsole.log('删除发票..');\n\t\t\tlet that = this;\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '您确定删除此发票吗？',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tconsole.log('删除发票-确定..');\n\t\t\t\t\t\tswitch (that.biz) {\n\t\t\t\t\t\t\tcase 'fpgl':\n\t\t\t\t\t\t\t\tlet iid = that.state.id;\n\t\t\t\t\t\t\t\tlet arg = {\n\t\t\t\t\t\t\t\t\tinvoiceId: iid\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tinvoiceDelInvoice(arg).then((diRes) => {\n\t\t\t\t\t\t\t\t\tconsole.log('删除指定发票..', diRes);\n\t\t\t\t\t\t\t\t\tif (diRes && diRes.success) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '发票删除成功.',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/tab-bar/ticket/ticket_tt\",\n\t\t\t\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\t\t\t\tlet page = getCurrentPages().pop();\n\t\t\t\t\t\t\t\t\t\t\t\t//跳转页面成功之后           \n\t\t\t\t\t\t\t\t\t\t\t\tif (!page) return;\n\t\t\t\t\t\t\t\t\t\t\t\tpage.onLoad(); //如果页面存在，则重新刷新页面\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'pzsp':\n\t\t\t\t\t\t\tcase 'dksp':\n\t\t\t\t\t\t\t\tuni.$emit(\"recgz-image-delete\", that.state);\n\t\t\t\t\t\t\t\tuni.navigateBack({});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log('删除发票-取消', iid);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 发票图像错误\n\t\thandleInvoiceImageError() {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '加载发票图像时出错！',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t});\n\t\t},\n\t\t// 预览发票图像\n\t\thandlePreviewInvoiceImage() {\n\t\t\tuni.previewImage({\n\t\t\t\turls: [this.invoice.invoiceImg],\n\t\t\t\tindicator: 'default'\n\t\t\t});\n\t\t},\n\t\t// 获取发票信息\n\t\tgetInvoice(callback) {\n\t\t\tlet that = this;\n\t\t\tif (that.state) {\n\t\t\t\tinvoiceGetInvoice(that.state.id).then((giRes) => {\n\t\t\t\t\tconsole.log('获取发票信息..', giRes);\n\t\t\t\t\tif (callback) callback();\n\t\t\t\t\tif (giRes && giRes.success) {\n\t\t\t\t\t\tlet invoice = giRes.data;\n\t\t\t\t\t\tthat.invoice = invoice;\n\t\t\t\t\t\tthat.state.id = invoice.id;\n\t\t\t\t\t\tthat.setSelectTypes(invoice.source);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (callback) callback();\n\t\t\t}\n\t\t},\n\t\t// 保存提交校验\n\t\tsubmitValidate() {\n\t\t\tlet that = this;\n\t\t\tlet invoice = that.invoice;\n\t\t\treturn ValidateInvoice(invoice);\n\t\t},\n\t\t// 设置可选票种\n\t\tsetSelectTypes(source) {\n\t\t\tlet itypes;\n\t\t\tswitch (source) {\n\t\t\t\t// 微信收票\n\t\t\t\tcase 'WECHAT':\n\t\t\t\t\titypes = InvoiceTypes.filter((item) => {\n\t\t\t\t\t\treturn item.value == 'GenerInvoice';\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t\t// 抵扣收票\n\t\t\t\tcase 'DKSP':\n\t\t\t\t\titypes = InvoiceTypes.filter((item) => {\n\t\t\t\t\t\treturn InvoiceDeductible(item.value);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t\t// 查验收票\n\t\t\t\tcase 'CYSP':\n\t\t\t\t\titypes = InvoiceTypes.filter((item) => {\n\t\t\t\t\t\treturn InvoiceVerifiable(item.value);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t\t// 影像收票\n\t\t\t\tcase 'YXSP':\n\t\t\t\tdefault:\n\t\t\t\t\titypes = InvoiceTypes;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.invoiceTypes = Clone(itypes);\n\t\t},\n\t\tfmtInvoiceType(itype) {\n\t\t\tif (!itype) return '';\n\t\t\treturn FmtInvoiceType(itype);\n\t\t},\n\t\tinvoicePropEditable(prop) {\n\t\t\treturn InvoicePropEditable(this.invoice.invoiceType, prop);\n\t\t},\n\t\tgetInvoicePropName(prop) {\n\t\t\treturn GetInvoicePropName(this.invoice.invoiceType, prop);\n\t\t},\n\t\tinvoiceVerifiable() {\n\t\t\treturn InvoiceVerifiable(this.invoice.invoiceType);\n\t\t},\n\t\tfmtInvoiceVerifyStatus(istate) {\n\t\t\treturn FmtInvoiceVerifyStatus(istate);\n\t\t}\n\t}\n}\n","import mod from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail_tt.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.6.5.20200314.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail_tt.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586848506779\n      var cssReload = require(\"E:/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}