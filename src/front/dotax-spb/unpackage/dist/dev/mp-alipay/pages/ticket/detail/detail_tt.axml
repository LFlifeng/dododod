<view><view class="head-section"><block a:if="{{edit}}"><picker value="{{invoiceTypePickerValue}}" range="{{invoiceTypes}}" range-key="label" data-event-opts="{{[['change',[['handleInvoiceTypeChange',['$event']]]]]}}" onChange="__e"><text>{{$root.m0}}<image class="right_icon" src="../../../static/Chevron.png" mode></image></text></picker></block><block a:if="{{!edit}}"><text>{{$root.m1}}</text></block><block a:if="{{!edit&&$root.m2}}"><view class="cy-icon"><text class="{{('cy-'+invoice.checkState)}}">{{$root.m3}}</text></view></block></view><scroll-view class="{{(('body-section')+' '+((!invoiceImageVisible)?'body-section-wt':''))}}" scroll-y="true"><view class="body-content"><block a:if="{{$root.m4}}"><view class="props-item"><view class="prop-label">发票代码：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.invoiceCode}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="发票代码" data-event-opts="{{[['input',[['__set_model',['$0','invoiceCode','$event',[]],['invoice']]]]]}}" value="{{invoice.invoiceCode}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m5}}"><view class="props-item"><view class="prop-label">发票号码：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.invoiceNum}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="发票号码" data-event-opts="{{[['input',[['__set_model',['$0','invoiceNum','$event',[]],['invoice']]]]]}}" value="{{invoice.invoiceNum}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m6}}"><view class="props-item"><view class="prop-label">{{$root.m7+"："}}</view><block a:if="{{edit}}"><picker mode="date" start="{{invoiceMinDate}}" end="{{invoiceMaxDate}}" value="{{invoice.invoiceOpenDate}}" data-event-opts="{{[['change',[['handleInvoiceOpenDateChange',['$event']]]],['input',[['__set_model',['$0','invoiceOpenDate','$event',[]],['invoice']]]]]}}" onChange="__e" onInput="__e"><view class="uni-input">{{invoice.invoiceOpenDate}}</view></picker></block><block a:else><view class="uni-input prop-value">{{invoice.invoiceOpenDate}}</view></block></view></block><block a:if="{{$root.m8}}"><view class="props-item"><view class="prop-label">城市：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.city}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="城市" data-event-opts="{{[['input',[['__set_model',['$0','city','$event',[]],['invoice']]]]]}}" value="{{invoice.city}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m9}}"><view class="props-item"><view class="prop-label">{{$root.m10+"："}}</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.rider}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="{{$root.m11}}" data-event-opts="{{[['input',[['__set_model',['$0','rider','$event',[]],['invoice']]]]]}}" value="{{invoice.rider}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m12}}"><view class="props-item"><view class="prop-label">电子客票号码：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.eleTicktNo}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="电子客票号码" data-event-opts="{{[['input',[['__set_model',['$0','eleTicktNo','$event',[]],['invoice']]]]]}}" value="{{invoice.eleTicktNo}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m13}}"><view class="props-item"><view class="prop-label">出发站：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.departure}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="出发站" data-event-opts="{{[['input',[['__set_model',['$0','departure','$event',[]],['invoice']]]]]}}" value="{{invoice.departure}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m14}}"><view class="props-item"><view class="prop-label">乘车日期：</view><block a:if="{{edit}}"><picker mode="date" start="{{setOutMinDate}}" end="{{setOutMaxDate}}" value="{{invoice.setOutDate}}" data-event-opts="{{[['change',[['handleSetOutDateChange',['$event']]]],['input',[['__set_model',['$0','setOutDate','$event',[]],['invoice']]]]]}}" onChange="__e" onInput="__e"><view class="uni-input">{{invoice.setOutDate}}</view></picker></block><block a:else><view class="uni-input prop-value">{{invoice.setOutDate}}</view></block></view></block><block a:if="{{$root.m15}}"><view class="props-item"><view class="prop-label">到达站：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.destination}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="到达站" data-event-opts="{{[['input',[['__set_model',['$0','destination','$event',[]],['invoice']]]]]}}" value="{{invoice.destination}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m16}}"><view class="props-item"><view class="prop-label">{{$root.m17+"："}}</view><block a:if="{{edit}}"><picker mode="time" value="{{invoice.getOnTime}}" data-event-opts="{{[['change',[['handleGetOnTimeChange',['$event']]]],['input',[['__set_model',['$0','getOnTime','$event',[]],['invoice']]]]]}}" onChange="__e" onInput="__e"><view class="uni-input">{{invoice.getOnTime}}</view></picker></block><block a:else><view class="uni-input prop-value">{{invoice.getOnTime}}</view></block></view></block><block a:if="{{$root.m18}}"><view class="props-item"><view class="prop-label">下车时间：</view><block a:if="{{edit}}"><picker mode="time" value="{{invoice.getOffTime}}" data-event-opts="{{[['change',[['handleGetOffTimeChange',['$event']]]],['input',[['__set_model',['$0','getOffTime','$event',[]],['invoice']]]]]}}" onChange="__e" onInput="__e"><view class="uni-input">{{invoice.getOffTime}}</view></picker></block><block a:else><view class="uni-input prop-value">{{invoice.getOffTime}}</view></block></view></block><block a:if="{{$root.m19}}"><view class="props-item"><view class="prop-label">里程(公里)：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.kilometre}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="里程(公里)" data-event-opts="{{[['input',[['__set_model',['$0','kilometre','$event',[]],['invoice']]]]]}}" value="{{invoice.kilometre}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m20}}"><view class="props-item"><view class="prop-label">金额(元)：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.sumAmount}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="金额(元)" data-event-opts="{{[['input',[['__set_model',['$0','sumAmount','$event',[]],['invoice']]]]]}}" value="{{invoice.sumAmount}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m21}}"><view class="props-item"><view class="prop-label">票价(元)：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.ticketPrice}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="票价(元)" data-event-opts="{{[['input',[['__set_model',['$0','ticketPrice','$event',[]],['invoice']]]]]}}" value="{{invoice.ticketPrice}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m22}}"><view class="props-item"><view class="prop-label">{{$root.m23+"："}}</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.flight}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="{{$root.m24}}" data-event-opts="{{[['input',[['__set_model',['$0','flight','$event',[]],['invoice']]]]]}}" value="{{invoice.flight}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m25}}"><view class="props-item"><view class="prop-label">座位等级：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.seatClass}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="座位等级" data-event-opts="{{[['input',[['__set_model',['$0','seatClass','$event',[]],['invoice']]]]]}}" value="{{invoice.seatClass}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m26}}"><view class="props-item"><view class="prop-label">燃油附加费：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.surcharge}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="燃油附加费" data-event-opts="{{[['input',[['__set_model',['$0','surcharge','$event',[]],['invoice']]]]]}}" value="{{invoice.surcharge}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m27}}"><view class="props-item"><view class="prop-label">合计金额(元)：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.planeTicketAmount}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="合计金额(元)" data-event-opts="{{[['input',[['__set_model',['$0','planeTicketAmount','$event',[]],['invoice']]]]]}}" value="{{invoice.planeTicketAmount}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m28}}"><view class="props-item"><view class="prop-label">校验码后6位：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.verifyCode}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="校验码后6位" data-event-opts="{{[['input',[['__set_model',['$0','verifyCode','$event',[]],['invoice']]]]]}}" value="{{invoice.verifyCode}}" onInput="__e"/></view></block></view></block><block a:if="{{$root.m29}}"><view class="props-item"><view class="prop-label">不含税金额：</view><block a:if="{{!edit}}"><view class="uni-input prop-value">{{invoice.amount}}</view></block><block a:else><view class="edit-value"><input class="uni-input" placeholder="不含税金额" data-event-opts="{{[['input',[['__set_model',['$0','amount','$event',[]],['invoice']]]]]}}" value="{{invoice.amount}}" onInput="__e"/></view></block></view></block><block a:if="{{!edit&&$root.m30}}"><view class="check-block"><uni-collapse vue-id="edcbd71c-1" onVueInit="__l"><uni-collapse-item vue-id="{{('edcbd71c-2')+','+('edcbd71c-1')}}" open="{{false}}" show-animation="{{false}}" disabled="{{false}}" title="查看增值税发票查验结果" onVueInit="__l"><block a:if="{{!edit&&invoice.checkState==1}}"><view class="cg-cont"><view class="cont-item"><text class="label">发票代码：</text><text class="value">{{invoice.invoiceCode}}</text></view><view class="cont-item"><text class="label">发票号码：</text><text class="value">{{invoice.invoiceNum}}</text></view><view class="cont-item"><text class="label">开票日期：</text><text class="value">{{invoice.invoiceOpenDate}}</text></view><view class="cont-item"><text class="label">价税合计：</text><text class="value">{{invoice.sumAmount+"元"}}</text></view><view class="cont-item"><text class="label">开票金额（不含税）：</text><text class="value">{{invoice.amount+"元"}}</text></view><view class="cont-item"><text class="label">税额：</text><text class="value">{{invoice.taxAmount}}</text></view><view class="cont-item"><text class="label">购买方：</text><text class="value">{{invoice.customerName}}</text></view><view class="cont-item"><text class="label">纳税人识别号：</text><text class="value">{{invoice.customerTaxNo}}</text></view><view class="cont-item"><text class="label">开户银行及账号：</text><text class="value">{{invoice.customerBankAccount}}</text></view><view class="cont-item"><text class="label">公司地址及电话：</text><text class="value">{{invoice.customerAddrTel}}</text></view><view class="cont-item"><text class="label">销售方：</text><text class="value">{{invoice.saleName}}</text></view><view class="cont-item"><text class="label">纳税人识别号：</text><text class="value">{{invoice.saleTaxNo}}</text></view><view class="cont-item"><text class="label">开户银行及账号：</text><text class="value">{{invoice.saleBankAccount}}</text></view><view class="cont-item"><text class="label">公司地址及电话：</text><text class="value">{{invoice.saleAddrTel}}</text></view><view class="hwmx-cont"><view class="subject">货物或应税劳务：</view><block a:for="{{invoice.items}}" a:for-item="item" a:for-index="index" a:key="index"><view class="hwmx-item"><text class="mc">{{item.merchandiseName}}</text><text class="je">{{item.amount+"元"}}</text><text class="se">{{item.taxAmount+"元"}}</text></view></block></view></view></block><block a:if="{{!edit&&invoice.checkState==2}}"><view class="sb-cont"><view class="message">查验失败：<text>{{invoice.failedMessage}}</text></view></view></block></uni-collapse-item></uni-collapse></view></block></view></scroll-view><view class="{{((!invoiceImageVisible)?'oprt-section-wt':'')}}"><block a:if="{{invoiceImageVisible}}"><view class="image-section"><image mode="{{aspectFit}}" src="{{invoice.invoiceImg}}" data-event-opts="{{[['tap',[['handlePreviewInvoiceImage',['$event']]]],['error',[['handleInvoiceImageError',['$event']]]]]}}" onTap="__e" onError="__e"></image></view></block></view><view class="oprt-section"><view class="btn-group"><block a:if="{{deleteButtonVisible}}"><button class="s_btn" type="default" data-event-opts="{{[['tap',[['handleDelete',['$event']]]]]}}" onTap="__e">删除</button></block><block a:if="{{submitButtonVisible}}"><button type="primary" data-event-opts="{{[['tap',[['handleSubmit',['$event']]]]]}}" onTap="__e">{{confirmText}}</button></block><block a:if="{{updateButtonVisible}}"><button type="primary" data-event-opts="{{[['tap',[['handleUpdate',['$event']]]]]}}" onTap="__e">编辑</button></block><block a:if="{{cancelButtonVisible}}"><button type="default" data-event-opts="{{[['tap',[['handleCancel',['$event']]]]]}}" onTap="__e">取消</button></block></view></view></view>